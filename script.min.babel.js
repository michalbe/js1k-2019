var g=Math,l=2*g.PI,Y=g.cos,m="e13wtdmn 7n079tsf 7qy20naz 7gcepyaz c0z1tcvv autqjrrr ax1ppc9r bcytdccx d33098lt c02ythhx cevfb01r".split(" ").map(a=>parseInt(a,36).toString(2)).join("").split(""),n=.4*g.PI,p=p_x=3,q=p_y=4,r,t=r=n,u={37:"l",39:"r",38:"f",40:"b"},v={l:0,r:0,f:0,b:0},w=0,x="",y=a=>{var c=Y(r)*a;a*=g.sin(r);0>=z(p_x+c,p_y)&&(p_x+=c);0>=z(p_x,p_y+a)&&(p_y+=a);p=p_x;q=p_y},z=(a,c)=>{a|=0;c|=0;return 0>a||20<=a||0>c||22<=c?-1:m[20*c+a]},A=(a,c,e,k,f)=>{if(0===c)return{c:1E6};var h=0<c?~~(e+1)-e:g.ceil(e-1)-e;a=h*a/c;return{x:f?k+a:e+h,y:f?e+h:k+a,c:h*h+a*a}},B=(a,c,e,k,f,h)=>{c=20*(a.y-(0>h?e:0)|0)+(a.x-(0>f?c:0)|0);a.g=0>c||c>=m.length?-1:m[c];a.a=k+g.sqrt(a.c);return a},C=(a,c)=>{v[u[c.keyCode]]=a};for(var D=0;28>D;D++)x+="<span>"+"JS1K"[D%4]+"</span>";b.innerHTML=x;var E=d.querySelectorAll("span");d.onkeydown=C.bind(this,1);d.onkeyup=C.bind(this,0);function H(a){var c=(a-w)/1E3;w=a;if(.2>c)for(v.l&&(t=r=(r+-g.PI*c+l)%l),v.r&&(t=r=(r+g.PI*c+l)%l),v.f&&y(3*c),v.b&&y(-3*c),a=0;28>a;a++){c=n*(a/28-.5);var e=t+c,k=[],f=g.sin(e),h=Y(e);e={x:p,y:q,g:0,a:0};do{k.push(e);if(0<e.g)break;var F=A(f,h,e.x,e.y);var G=A(h,f,e.y,e.x,!0);e=F.c<G.c?B(F,1,0,e.a,h,f):B(G,0,1,e.a,h,f)}while(14>=e.a);f=k;k=a;for(e=-1;++e<f.length&&0>=f[e].g;);e<f.length&&(f=f[e],c=10/(f.a*Y(c)),f=1-g.max(f.a/5,0),E[k].style.opacity=f,E[k].style.transform="scaleY("+c+")")}requestAnimationFrame(H)}H();
